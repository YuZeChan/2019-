### Hadoop作业调度系统

如何达到并行计算和分布式计算的目的，保证高效执行，核心问题是如何整合计算资源然后统一分配到集群中的计算节点中。

即作业调度：

1. 计算资源的组织
2. 用户作业的选择策略
3. 任务的分配策略



默认的调度器是FIFO调度，主要适合但队列的批处理作业。

雅虎的容量调度器Capacity Scheduler和FaceBook的公平调度器FAIR Scheduler，最为第三方调度器，适合多用户对队列的控制需求。



***

#### 作业调度的相关概念：

1. 作业管理：包括作业提交权限控制，作业运行状态查看权限控制等。
2. 用户和分组：即Linux环境下用户分组，每个用户只能向固定分组中提交作业，只能使用固定分组中配置的资源。
3. 资源池：pool，可以认为是公平调度器中对整个集群资源的一种划分管理方式。
4. 队列：一个队列可以由任意几个分组和任意几个用户组成。调度器中，用户提交作业通过参数mapred.job.queue.name来指定提交到哪个队列。
5. 资源槽位：slot是Hadoop分布式系统进行资源管理的基本单位，是集群计算资源的抽象化。每个资源槽位都代表可以运行一个任务（Map任务或者Reduce任务）。默认每个节点两个槽位，根据内存、CPU等可另外配置。
6. 作业调度和任务调度：第一级作业调度，第二级任务调度。
7. 心跳：中从模式分布式系统，从节点通过心跳机制来定时向主节点汇报状态信息。
8. 本地化资源和非本地化资源：计算节点存在空闲计算资源槽位时，作业集中至少存在（所有都不在）一个任务的待处理数据存储于该计算节点上，则称计算节点为此作业的（非）本地化资源。
9. 本地化调度和非本地化调度：Hadoop调度器将本地化资源分配给相应作业时，称为本地化调度；反之非本地化调度。