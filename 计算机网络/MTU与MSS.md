##### 1、MTU

最大传输单元（Maximum Transmission Unit，MTU）是指一种通信协议的某一层上面所能通过的最大数据包大小（以Byte为单位）。[最大传输单元]这个参数通常与**[通信接口]**有关（网络接口卡、串口等）。

**是不是越大越好：**

- 因为协议数据单元的包头和包尾的长度是固定的，MTU越大，则一个协议数据单元的承载的有效数据就越长**，通信效率也越高**。MTU越大，传送相同的用户数据所需的数据包个数也越低。

- MTU也不是越大越好，因为MTU越大， 传送一个数据包的**延迟**也越大；并且MTU越大，数据包中**bit位发生错误**的概率也越大。



**<u>分片过程如下：</u>**

1. 首先计算最大的IP包中IP净荷的长度 =MTU-IP包头长度=1500-20= 1480 bytes。

2. 然后把3008 bytes按照1480 bytes的长度分片，将要分为3片，3008= 1480+1480+48。

3. 最后发送者将为3个分片分别添加IP包头，组成3个IP包后再发送，3个IP包的长度分别为1500 bytes、1500 bytes和 68 bytes。

从以上分片例子可以看出第一、二个分片包组成的IP包的长度都等于**MTU即1500 bytes**。



***

##### 2、MSS

MSS最大报文长度（Max Segment Size）是传输层TCP协议中的概念（UDP协议本来就是单个数据包发送，其协议头中有报文长度字段），表示一个TCP报文片的最大长度。**在建立连接时，通信的双方要互相确认对方的MSS**。

- 对于以太网，一般MSS可达1460Byte = 1500 - 20 - 20
- 对于非本地IP，MSS一般只有536Byte = 576 - 20 -20（RFC定义中的默认值）
- 如果中间的传输网络的MSS更小，则这个值会变得更小。

MSS是在TCP重传机制下，双方协商的结果，一般考虑缓冲区不同的限制，以及网络带宽的充分利用。

MTU是IP数据包的最大长度，是在IP层决定的，一般为1500Byte。其中一般IP头部占20字节，TCP头部占20字节，所以MSS最大1460Byte。




