# Python简单问答，了解的不深入，所以很难有特别独特的理解，随便总结了一些，可能会用到，可能用不到。

### 1、大数据的文件读取：

​	1、利用生成器generator

​	2、利用迭代器进行遍历：for line in file



#### 2、迭代器和生成器的区别：

​	1、迭代器是一种抽象的概念，对应的实例对象有list、tuple、dict、string等，可以利用for循环进行遍历。迭代器类中都有next方法和iter方法返回自己本身。

​	2、生成器可以用来创建迭代器。类似函数的感觉。当数据量很大，但使用率并不高时，用迭代器存储时效率较低，可以考虑使用生成器来提高效率。generator不必生成完整的list，可以一边循环一边计算。



#### 3、装饰器是什么，有什么作用：

​	装饰器本质是一个以函数为参数的函数，在函数内部定义了一个内部函数。在内部函数中可以调用函数参数，并且在前后增加新的功能，而不改变原本函数的结构。语法糖@wrapper_name

​	功能是将代码的逻辑和一些附加功能分开来（解耦）：函数执行时间的统计，Debug信息，日志信息，执行前校验或预处理，等等。

```python
def wrapper_name(fun()):
    def wrapper(*args, **kwargs):
        t1 = time.time()
        fun()
        t2 = time.time()
        print(t2 - t1)
    return wrapper
```



#### 4、如何提高python的运行效率：

​	1、使用生成器：

​	2、优化循环：尽量避免在循环中访问变量的属性

​	3、关键代码使用外部功能包（Cython，pylnlne，pypy等）



#### 5、Python如何进行内存管理的：

##### 	1、垃圾回收：

python是动态类型语言，对象的类型和内存大小都是运行时确定的。（简单认为对对象的内存分配是在运行时自动判断对象类型并对其赋值）。

##### 	2、引用计数：

每一个对象都维护了一个对指向该对象的引用计数。系统会自动维护这些标签，并定时进行扫描，当某个兑现的引用计数变为零时，就被回收。

##### 	3、内存池机制：

python内存机制是以金字塔进行的，第1，2层主要由操作系统进行操作；

第0层是C语言中的malloc、free等内存分配和释放的函数

第1,2层时内存池，由对应python的接口函数PyMem_Malloc函数实现，当对象小于256k时，由内存池直接分配；

第3层是最上层，是用户对python对象的操作层。

经由内存池登记的内存到最后还是会回收到内存池,并不会调用 C 的 free 释放掉.以便下次使用。因为频繁的malloc和free无论是对于内存管理还是对于时间效率都是一种浪费，所以采用内存池的方式，可以减少这些方面的浪费。



#### 6、协程是什么，它有什么优点？

协程可以理解为轻量级的线程，占用内存小，可以实现更高的并发量；

协程的切换在用户态进行，不必经过内核态，所以开销小，效率高；

协程的同步不需要多线程的锁机制，共享资源不加锁，只需判断状态即可。（多进程 + 协程的模式）

是生成器支持的（generator）



#### 7、闭包：

定义：能够读取其他函数内部变量的函数（装饰器其实就是闭包思想的一种应用。）

闭包 = 函数块 + 定义函数时的环境。